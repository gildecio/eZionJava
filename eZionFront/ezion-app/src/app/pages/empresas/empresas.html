<div class="empresas-shell">
	<div class="header-row">
		<div>
			<h2>Empresas</h2>
			<p>Cadastre, edite ou desative empresas que poderÃ£o ser selecionadas no login.</p>
		</div>
		<div class="button-group">
			<button type="button" class="btn-primary" (click)="buscarEmpresas()" [disabled]="loading" *ngIf="!isShowingForm">
				ğŸ”
				<span>{{ loading ? 'Carregando...' : 'Consultar' }}</span>
			</button>
			<button type="button" class="btn-primary btn-green" (click)="novaEmpresa()" *ngIf="!isShowingForm">
				â•
				<span>Cadastrar</span>
			</button>
		</div>
	</div>

	<hr class="divider" />

	<div *ngIf="feedback" class="feedback" [class.error]="feedback.type==='error'" [class.success]="feedback.type==='success'">
		{{ feedback.text }}
	</div>

	<!-- Listagem -->
	<app-empresas-list
		*ngIf="!isShowingForm"
		[empresas]="empresas"
		[loading]="loading"
		[deletingId]="deletingId"
		(editar)="editarEmpresa($event)"
		(removerClick)="removerEmpresa($event)">
	</app-empresas-list>

	<!-- FormulÃ¡rio -->
	<app-empresas-form
		*ngIf="isShowingForm"
		[empresa]="editingEmpresa"
		(salvarClick)="salvarEmpresa($event)"
		(cancelar)="fecharForm()">
	</app-empresas-form>
</div>


