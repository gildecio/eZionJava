<div class="layout-wrapper">
  <!-- HEADER -->
  <header class="header">
    <div class="header-container">
      <div class="header-brand">
        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2"/>
          <line x1="9" y1="3" x2="9" y2="21"/>
          <line x1="15" y1="3" x2="15" y2="21"/>
        </svg>
        <h1 class="logo-text">eZion</h1>
      </div>

      <div class="header-actions">
        <button 
          pButton 
          type="button" 
          [icon]="'pi pi-bell'" 
          class="p-button-rounded p-button-text p-button-plain notification-btn"
        >
          <p-badge [value]="3" severity="danger"></p-badge>
        </button>

        <div class="user-menu-wrapper">
          <button 
            pButton 
            type="button"
            (click)="toggleUserMenu($event)"
            class="p-button-rounded p-button-text user-btn"
          >
            <p-avatar 
              [label]="usuarioLogado.charAt(0).toUpperCase()" 
              shape="circle" 
              size="large"
              styleClass="mr-2"
            ></p-avatar>
            <span class="username">{{ usuarioLogado }}</span>
            <i class="pi pi-chevron-down"></i>
          </button>
          <p-menu 
            #userMenu
            [model]="userMenuItems" 
            [popup]="true"
          ></p-menu>
        </div>
      </div>
    </div>
  </header>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="nav-item">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
          <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
        <span>Dashboard</span>
      </a>

      <button class="nav-item" (click)="toggleContabilSubmenu()" [class.active]="contabilAberto" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="2" x2="12" y2="22"/>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
        </svg>
        <span>Contábil</span>
        <svg class="arrow-icon" [class.open]="contabilAberto" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <div class="submenu" [class.active]="contabilAberto">
        <a routerLink="/contabil/empresas" class="submenu-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
          </svg>
          <span>Empresa</span>
        </a>
      </div>
      <a routerLink="/relatorios" class="nav-item">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="2" x2="12" y2="22"/>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
        </svg>
        <span>Relatórios</span>
      </a>
      <a routerLink="/configuracoes" class="nav-item">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="1"/>
          <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m4.24-4.24l4.24-4.24"/>
        </svg>
        <span>Configurações</span>
      </a>
    </nav>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>
